<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>ETC1010 - 5510: Introduction to Data Analysis</title>
    <meta charset="utf-8" />
    <meta name="author" content="Patricia Menéndez" />
    <script src="libs/header-attrs-2.10/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> 
    -->
    <link rel="icon" href="images/favicon.ico"  type='image/x-icon'/>    
    <link rel="stylesheet" href="assets/animate.css" type="text/css" />
    <link rel="stylesheet" href="assets/monash-logo.css" type="text/css" />
    <link rel="stylesheet" href="assets/monash-brand.css" type="text/css" />
    <link rel="stylesheet" href="assets/monash-fonts.css" type="text/css" />
    <link rel="stylesheet" href="assets/styles.css" type="text/css" />
    <link rel="stylesheet" href="assets/custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




background-image: url(images/daniel-olah-pCcGpVsOHoo-unsplash.jpg)
background-size: cover
class: hide-slide-number split-70 title-slide
count: false

.column.shade_black[.content[

&lt;br&gt;

# .monash-white.outline-text[ETC1010 - 5510: Introduction to Data Analysis]

&lt;h2 class="monash-white outline-text" style="font-size: 30pt!important;"&gt;Week 6&lt;/h2&gt;

&lt;br&gt;

&lt;h2 style="font-weight:900!important;"&gt;Web Scraping, Projects and Intro to Functions&lt;/h2&gt;

.bottom_abs.width100[

Lecturer: *Patricia Menéndez*

Department of Econometrics and Business Statistics




&lt;br&gt;
]


]]



&lt;div class="column transition monash-m-new delay-1s" style="clip-path:url(#swipe__clip-path);"&gt;
&lt;div class="background-image" style="background-image:url('images/large.png');background-position: center;background-size:cover;"&gt;
&lt;svg class="clip-svg absolute"&gt;
&lt;defs&gt;
&lt;clipPath id="swipe__clip-path" clipPathUnits="objectBoundingBox"&gt;
&lt;polygon points="0.5745 0, 0.5 0.33, 0.42 0, 0 0, 0 1, 0.27 1, 0.27 0.59, 0.37 1, 0.634 1, 0.736 0.59, 0.736 1, 1 1, 1 0, 0.5745 0" /&gt;
&lt;/clipPath&gt;
&lt;/defs&gt;	
&lt;/svg&gt;
&lt;/div&gt;
&lt;/div&gt;








---
# Questions/Comments/Suggestions

&lt;img src="images/rhythm-goyal-_-Ofoh09q_o-unsplash.jpg" width="80%" style="display: block; margin: auto;" /&gt;
 Photo: Rhythm Goyal for  Unsplash.
---
# Recap: Week 5
&lt;br&gt;&lt;br&gt;
-  What even are missing values?

- How to start looking at missing data?

- How to start exploring missing data?

- How to impute (fill in) Missing values?

- Different file formats
    - Audio / binary






---

# Week 6: Outline
&lt;br&gt;&lt;br&gt;
- Web scraping
- Intro to using functions
- File paths and Rstudio projects (please read)
- Organizing your own folders (please read)


---
# Mid-semester assessment
&lt;br&gt;&lt;br&gt;
.content-box-neutral[
- Moodle quiz with 15 question --&gt; Under Assessments in Moodle
- Rstudio Cloud project open for you just in case you need to use it
- Two versions: ETC1010 and ETC5510
- 45 minutes to complete it once you open it
- Task will be open 24hrs: Wed, 14 April 1pm to Thursday, 15 1pm
]

Solutions for assignment 1 release today in Moodle (Assessments)
---
# Project?
&lt;br&gt;&lt;br&gt;
- **Groups will be release at the end of your tutorial this week**
- **By the end of Week 8** you must select your data sets
- And you should have the questions  that you want to answer in your project ready.
- Note: Data from Kaggle is **not** valid, you must choose a data from a known and trust worthy source. 
- You cannot use data that you have used in other units

---
# In Moodle April 30, 5pm (10%)
&lt;br&gt;&lt;br&gt;
Each team member will need to submit the same document containing:

.content-box-neutral[
- The team's name

- One page describing the project data (providing url of where the data is going to be extracted from)

- The tentative questions that the team aims at answering in the project.

- **Report team members that do not contribute**
]

---
# Scraping the web: what? why?
&lt;br&gt;&lt;br&gt;
- Increasing amount of data is available on the web.
- These data are provided in an unstructured format: you can always copy&amp;paste, but it's
time-consuming and prone to errors.
- Web scraping is the process of extracting this information automatically and transform it into
a structured dataset.

---
# Scraping the web: what? why?

&lt;br&gt;&lt;br&gt;
.content-box-neutral[
1. Screen scraping: extract data from source code of website, with html parser (easy) or regular expression matching (less easy).
2. Web APIs (application programming interface): website offers a set of structured http  requests that return JSON or XML files.
]

 Why R? It includes all tools necessary to do web scraping, familiarity, direct analysis of data... But python, perl, java are also efficient tools.

---
class: transition
# Web Scraping with `rvest` and `polite`

---
# Hypertext Markup Language (HTML)
&lt;br&gt;&lt;br&gt;
Most of the data on the web is still largely available as HTML - while it is structured (hierarchical / tree based) it often is not available in a form useful for analysis (flat / tidy).

&lt;br&gt;
```html
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;This is a title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p align="center"&gt;Hello world!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
```

---
# What if we want to extract parts of this text out?
&lt;br&gt;&lt;br&gt;
```html
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;This is a title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p align="center"&gt;Hello world!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
```


- `read_html()`: read HTML in (like `read_csv` and co!)

- `html_nodes()`: select specified nodes from the HTML document using CSS selectors.

- [CSS selectors](https://www.w3schools.com/cssref/css_selectors.asp)

---
# Let's read it in with `read_html`
&lt;br&gt;

```r
example &lt;- read_html("data/example.html")
# example &lt;- read_html(here::here("slides/data/example.html"))
example
## {html_document}
## &lt;html&gt;
## [1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
## [2] &lt;body&gt;\n    &lt;p align="center"&gt;Hello world!&lt;/p&gt;\n  &lt;/body&gt;
```

- We have two parts - head and body - which makes sense:

```html
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;This is a title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p align="center"&gt;Hello world!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
```



---
# Now let's get the title


```r
example %&gt;%
  html_nodes("title")
## {xml_nodeset (1)}
## [1] &lt;title&gt;This is a title&lt;/title&gt;
```

## Webpage example:
&lt;br&gt;
```html
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;This is a title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p align="center"&gt;Hello world!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
```


---
# Now let's get the paragraph text


```r
example %&gt;%
  html_nodes("p")
## {xml_nodeset (1)}
## [1] &lt;p align="center"&gt;Hello world!&lt;/p&gt;
```


```html
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;This is a title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p align="center"&gt;Hello world!&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
```


---
# Functions to read and select parts of html files
&lt;br&gt;&lt;br&gt;

- `read_html` - read in a html file
- `html_nodes` - select the parts of the html file we want to look at
    - This requires knowing about the website structure
    - But it turns out website are much...much more complicated than out little example file

---
class: transition
# rvest + polite (R packages)
&lt;br&gt;&lt;br&gt;
Simplify processing and manipulating HTML data

- `bow()` - check if the data can be scraped appropriately
- `scrape()` - scrape website data (with nice defaults)
- `html_nodes()` - select specified nodes from the HTML document using CSS selectors.
- `html_table()` - parse an HTML table into a data frame.
- `html_text()` - extract tag pairs' content.

---
# SelectorGadget: css selectors
&lt;br&gt;&lt;br&gt;
- We can use  a tool called .purple[selector gadget] to **help** identify the html elements of interest in a website.
- It does this .green[by constructing a css selector] which can be used to .green[subset the html document].

---
# SelectorGadget: css selectors
&lt;br&gt;&lt;br&gt;
.small[
Selector          |  Example         |     Description
------------      |------------------|      ------------------------------------------------
element           |  `p`             |      Select all &amp;lt;p&amp;gt; elements
element element   |  `div p`         |      Select all &amp;lt;p&amp;gt; elements inside a &amp;lt;div&amp;gt; element
element&gt;element   |  `div &gt; p`       |      Select all &amp;lt;p&amp;gt; elements with &amp;lt;div&amp;gt; as a parent
.class            |  `.title`        |      Select all elements with class="title"
\#id              |  `.name`         |      Select all elements with id="name"
[attribute]       |  `[class]`       |      Select all elements with a class attribute
[attribute=value] |  `[class=title]` |      Select all elements with class="title"
]

---
# SelectorGadget
&lt;br&gt;&lt;br&gt;
- SelectorGadget: Open source tool that eases CSS selector generation and discovery
- Install the [Chrome Extension](https://chrome.google.com/webstore/detail/selectorgadget/mhjhnkcfbdhnjickkkdbjoemdmbfginb)
.content-box-neutral[.small[
- A box will open in the bottom right of the website. Click on a page element
that you would like your selector to match (it will turn green). SelectorGadget
will then generate a minimal CSS selector for that element, and will highlight
(yellow) everything that is
matched by the selector.
- Now click on a highlighted element to remove it from the selector (red), or
click on an unhighlighted element to add it to the selector. Through this process
of selection and rejection, SelectorGadget helps you come up with the appropriate
CSS selector for your needs.
]]


---
# Top 250 movies on IMDB
&lt;br&gt;
Take a look at the source code, look for the tag `table` tag:
&lt;br&gt;
http://www.imdb.com/chart/top


&lt;img src="images/imdb_top_250.png" width="80%" style="display: block; margin: auto;" /&gt;


---
# First check to make sure you're allowed!
&lt;br&gt;&lt;br&gt;

```r
# install.packages("polite")
library(polite)
bow("http://www.imdb.com")
## &lt;polite session&gt; http://www.imdb.com
##     User-agent: polite R package - https://github.com/dmi3kno/polite
##     robots.txt: 26 rules are defined for 1 bots
##    Crawl delay: 5 sec
##   The path is scrapable for this user-agent
```



```r
bow("http://www.google.com")
## &lt;polite session&gt; http://www.google.com
##     User-agent: polite R package - https://github.com/dmi3kno/polite
##     robots.txt: 281 rules are defined for 4 bots
##    Crawl delay: 5 sec
##   The path is scrapable for this user-agent
```



---
class: transition
# Demo
&lt;br&gt;&lt;br&gt;
Let's go to http://www.imdb.com/chart/top

---
# Bow and scrape
&lt;br&gt;&lt;br&gt;

```r
imdb_session &lt;- bow("http://www.imdb.com/chart/top")

imdb_session
## &lt;polite session&gt; http://www.imdb.com/chart/top
##     User-agent: polite R package - https://github.com/dmi3kno/polite
##     robots.txt: 26 rules are defined for 1 bots
##    Crawl delay: 5 sec
##   The path is scrapable for this user-agent

imdb_data &lt;- scrape(imdb_session)

imdb_data
## {html_document}
## &lt;html xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml"&gt;
## [1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8 ...
## [2] &lt;body id="styleguide-v2" class="fixed"&gt;\n            &lt;img height="1" widt ...
```


---
# Select and format pieces: titles - `html_nodes()`
&lt;br&gt;&lt;br&gt;

```r
library(rvest)
imdb_data %&gt;%
  html_nodes(".titleColumn a") %&gt;%
  head()
## {xml_nodeset (6)}
## [1] &lt;a href="/title/tt0111161/?pf_rd_m=A2FGELUUNOQJNL&amp;amp;pf_rd_p=e31d89dd-32 ...
## [2] &lt;a href="/title/tt0068646/?pf_rd_m=A2FGELUUNOQJNL&amp;amp;pf_rd_p=e31d89dd-32 ...
## [3] &lt;a href="/title/tt0071562/?pf_rd_m=A2FGELUUNOQJNL&amp;amp;pf_rd_p=e31d89dd-32 ...
## [4] &lt;a href="/title/tt0468569/?pf_rd_m=A2FGELUUNOQJNL&amp;amp;pf_rd_p=e31d89dd-32 ...
## [5] &lt;a href="/title/tt0050083/?pf_rd_m=A2FGELUUNOQJNL&amp;amp;pf_rd_p=e31d89dd-32 ...
## [6] &lt;a href="/title/tt0108052/?pf_rd_m=A2FGELUUNOQJNL&amp;amp;pf_rd_p=e31d89dd-32 ...
```


---
# Select and format pieces: titles - `html_text() `
&lt;br&gt;&lt;br&gt;

```r
imdb_data %&gt;%
  html_nodes(".titleColumn a") %&gt;%
  html_text() %&gt;%
  head()
## [1] "The Shawshank Redemption" "The Godfather"           
## [3] "The Godfather: Part II"   "The Dark Knight"         
## [5] "12 Angry Men"             "Schindler's List"
```

---
# Select and format pieces: save it
&lt;br&gt;&lt;br&gt;

```r
titles &lt;- imdb_data %&gt;%
  html_nodes(".titleColumn a") %&gt;%
  html_text() %&gt;%
  head()
```

---
# Select and format pieces: years - nodes
&lt;br&gt;&lt;br&gt;

```r
imdb_data %&gt;%
  html_nodes(".secondaryInfo") %&gt;%
  head()
## {xml_nodeset (6)}
## [1] &lt;span class="secondaryInfo"&gt;(1994)&lt;/span&gt;
## [2] &lt;span class="secondaryInfo"&gt;(1972)&lt;/span&gt;
## [3] &lt;span class="secondaryInfo"&gt;(1974)&lt;/span&gt;
## [4] &lt;span class="secondaryInfo"&gt;(2008)&lt;/span&gt;
## [5] &lt;span class="secondaryInfo"&gt;(1957)&lt;/span&gt;
## [6] &lt;span class="secondaryInfo"&gt;(1993)&lt;/span&gt;
```

---
# Select and format pieces: years - text
&lt;br&gt;&lt;br&gt;

```r
imdb_data %&gt;%
  html_nodes(".secondaryInfo") %&gt;%
  html_text() %&gt;%
  head()
## [1] "(1994)" "(1972)" "(1974)" "(2008)" "(1957)" "(1993)"
```

---
# Select and format pieces: years - remove-brackets
&lt;br&gt;&lt;br&gt;

```r
imdb_data %&gt;%
  html_nodes(".secondaryInfo") %&gt;%
  html_text() %&gt;%
  str_remove("\\(") %&gt;% # remove (
  str_remove("\\)") %&gt;% # remove )
  as.numeric() %&gt;%
  head()
## [1] 1994 1972 1974 2008 1957 1993
```

---
# Select and format pieces: years - `parse_number()`
&lt;br&gt;&lt;br&gt;

```r
imdb_data %&gt;%
  html_nodes(".secondaryInfo") %&gt;%
  html_text() %&gt;%
  parse_number() %&gt;%
  head()
## [1] 1994 1972 1974 2008 1957 1993
```

---
# Select and format pieces: years - remove-brackets
&lt;br&gt;&lt;br&gt;

```r
years &lt;- imdb_data %&gt;%
  html_nodes(".secondaryInfo") %&gt;%
  html_text() %&gt;%
  str_remove("\\(") %&gt;% # remove (
  str_remove("\\)") %&gt;% # remove )
  as.numeric() %&gt;%
  head()
```

---
# Select and format pieces: scores - nodes
&lt;br&gt;&lt;br&gt;

```r
imdb_data %&gt;%
  html_nodes(".imdbRating strong") %&gt;%
  head()
## {xml_nodeset (6)}
## [1] &lt;strong title="9.2 based on 2,452,843 user ratings"&gt;9.2&lt;/strong&gt;
## [2] &lt;strong title="9.1 based on 1,697,571 user ratings"&gt;9.1&lt;/strong&gt;
## [3] &lt;strong title="9.0 based on 1,179,063 user ratings"&gt;9.0&lt;/strong&gt;
## [4] &lt;strong title="9.0 based on 2,408,482 user ratings"&gt;9.0&lt;/strong&gt;
## [5] &lt;strong title="8.9 based on 726,060 user ratings"&gt;8.9&lt;/strong&gt;
## [6] &lt;strong title="8.9 based on 1,261,685 user ratings"&gt;8.9&lt;/strong&gt;
```
---
# Select and format pieces: scores - text
&lt;br&gt;&lt;br&gt;

```r
imdb_data %&gt;%
  html_nodes(".imdbRating strong") %&gt;%
  html_text() %&gt;%
  head()
## [1] "9.2" "9.1" "9.0" "9.0" "8.9" "8.9"
```
---
# Select and format pieces: scores - as-numeric
&lt;br&gt;&lt;br&gt;

```r
imdb_data %&gt;%
  html_nodes(".imdbRating strong") %&gt;%
  html_text() %&gt;%
  as.numeric() %&gt;%
  head()
## [1] 9.2 9.1 9.0 9.0 8.9 8.9
```

---
# Select and format pieces: scores - save
&lt;br&gt;&lt;br&gt;

```r
scores &lt;- imdb_data %&gt;%
  html_nodes(".imdbRating strong") %&gt;%
  html_text() %&gt;%
  as.numeric() %&gt;%
  head()
```

---
# Select and format pieces: put it all together
&lt;br&gt;&lt;br&gt;

```r
imdb_top_250 &lt;- tibble(title = titles,
                       year = years,
                       score = scores)

head(imdb_top_250)
## # A tibble: 6 × 3
##   title                     year score
##   &lt;chr&gt;                    &lt;dbl&gt; &lt;dbl&gt;
## 1 The Shawshank Redemption  1994   9.2
## 2 The Godfather             1972   9.1
## 3 The Godfather: Part II    1974   9  
## 4 The Dark Knight           2008   9  
## 5 12 Angry Men              1957   8.9
## 6 Schindler's List          1993   8.9
```


---

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; title &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; score &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; The Shawshank Redemption &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1994 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; The Godfather &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1972 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9.1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; The Godfather: Part II &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1974 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; The Dark Knight &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2008 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 12 Angry Men &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1957 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Schindler's List &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1993 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; ... &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; ... &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; ... &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---
# Aside: Yet another approach - pull the table with `html_table()`
&lt;br&gt;
- requires notation we haven't used yet (e.g., what is `[[]]`)
- requires substantial text cleaning
- If there is time we can cover this at the end of class


```r
imdb_table &lt;- html_table(imdb_data)

glimpse(imdb_table[[1]])
## Rows: 250
## Columns: 5
## $ ``             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ `Rank &amp; Title` &lt;chr&gt; "1.\n      The Shawshank Redemption\n        (1994)", "…
## $ `IMDb Rating`  &lt;dbl&gt; 9.2, 9.1, 9.0, 9.0, 8.9, 8.9, 8.9, 8.8, 8.8, 8.8, 8.8, …
## $ `Your Rating`  &lt;chr&gt; "12345678910\n        \n        \n            \n       …
## $ ``             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
```

---
# Clean up / enhance

&lt;br&gt;&lt;br&gt;
May or may not be a lot of work depending on how messy the data are

- See if you like what you got:


```r
glimpse(imdb_top_250)
## Rows: 6
## Columns: 3
## $ title &lt;chr&gt; "The Shawshank Redemption", "The Godfather", "The Godfather: Par…
## $ year  &lt;dbl&gt; 1994, 1972, 1974, 2008, 1957, 1993
## $ score &lt;dbl&gt; 9.2, 9.1, 9.0, 9.0, 8.9, 8.9
```

---
# Clean up / enhance
&lt;br&gt;&lt;br&gt;
- Add a variable for rank


```r
imdb_top_250 %&gt;%
  mutate(
    rank = 1:nrow(imdb_top_250)
  )
## # A tibble: 6 × 4
##   title                     year score  rank
##   &lt;chr&gt;                    &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
## 1 The Shawshank Redemption  1994   9.2     1
## 2 The Godfather             1972   9.1     2
## 3 The Godfather: Part II    1974   9       3
## 4 The Dark Knight           2008   9       4
## 5 12 Angry Men              1957   8.9     5
## 6 Schindler's List          1993   8.9     6
```

---

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; title &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; score &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; rank &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; The Shawshank Redemption &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1994 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; The Godfather &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1972 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9.1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; The Godfather: Part II &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1974 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; The Dark Knight &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2008 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 12 Angry Men &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1957 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8.9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Schindler's List &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1993 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8.9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; ... &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; ... &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; ... &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; ... &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;



---
# Other common formats: JSON
&lt;br&gt;&lt;br&gt;

- JavaScript Object Notation (JSON).
- A language-independent data format, and supplants extensible markup language (XML).
- Data are sometimes stored as JSON, which requires special unpacking

---
# Unpacking JSON: Example JSON from [jsonlite](https://cran.r-project.org/web/packages/jsonlite/vignettes/json-aaquickstart.html)

.pull-left[

```r
library(jsonlite)
json_mario &lt;- '[
  {
    "Name": "Mario",
    "Age": 32,
    "Occupation": "Plumber"
  },
  {
    "Name": "Peach",
    "Age": 21,
    "Occupation": "Princess"
  },
  {},
  {
    "Name": "Bowser",
    "Occupation": "Koopa"
  }
]'
```
]

.pull-right[

```r
mydf &lt;- fromJSON(json_mario)
mydf
##     Name Age Occupation
## 1  Mario  32    Plumber
## 2  Peach  21   Princess
## 3   &lt;NA&gt;  NA       &lt;NA&gt;
## 4 Bowser  NA      Koopa
```

]

---
# Potential challenges with web scraping
&lt;br&gt;&lt;br&gt;
.content-box-neutral[
- Unreliable formatting at the source
- Data broken into many pages
- Data arriving in multiple excel file formats
- We will come back to this after we learn about functions in today's class!
]

&gt; Compare the display of information at [gumtree melbourne](https://www.gumtree.com.au/s-monash/l3001600) to the list on the IMDB top 250 list. What challenges can you foresee in scraping a list of the available apartments?
]


---
# Further exploring
&lt;br&gt;&lt;br&gt;
People write R packages to access online data! Check out:

- [cricinfo by Sayani Gupta and Rob Hyndman](https://docs.ropensci.org/cricketdata/)
- [rwalkr by Earo Wang](https://github.com/earowang/rwalkr)
- [fitzRoy for AFL data](https://github.com/jimmyday12/fitzRoy/)
- [Top 40 lists of R packages by Joe Rickert](https://rviews.rstudio.com/2019/07/24/june-2019-top-40-r-packages/) - they usually include a "data" section.




---
class: transition

# Motivating Functions

---
# Functions
&lt;br&gt;&lt;br&gt;

```r
sumation &lt;- function(data){
  
  result = sum(data)
  result
}

sumation(data = c(1,2)) 
## [1] 3
sumation(data = c(1,2,3)) 
## [1] 6
```
&lt;br&gt;

[An intro to functions](https://r4ds.had.co.nz/functions.html)


---
#  Why functions?

- .green[Automate common tasks] in a power powerful and general way than copy-and-pasting:
.content-box-neutral[
    - You can give a function an evocative name that makes your code easier to understand.
    - As requirements change, you only need to update code in one place, instead of many.
    - You eliminate the chance of making incidental mistakes when you copy and paste (i.e. updating a variable name in one place, but not in another).
]


- Down the line: .green[Improve your reach as a data scientist by writing functions (and packages!) that others can use!]


---
# Remember web scraping?

&lt;img src="https://m.media-amazon.com/images/M/MV5BZGExYjQzNTQtNGNhMi00YmY1LTlhY2MtMTRjODg3MjU4YTAyXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_.jpg" width="40%" style="display: block; margin: auto;" /&gt;

---
# Setup: Tv series

&lt;br&gt;&lt;br&gt;

```r
library(tidyverse)
library(rvest)
library(polite)

st &lt;- bow("http://www.imdb.com/title/tt4574334/") %&gt;% scrape()

twd &lt;- bow("http://www.imdb.com/title/tt1520211/") %&gt;% scrape()

got &lt;- bow("http://www.imdb.com/title/tt0944947/") %&gt;% scrape()
```

---
# How many episodes in Stranger Things?
&lt;br&gt;&lt;br&gt;

```r
st_episode &lt;- 
  bow("https://www.imdb.com/title/tt4574334/") %&gt;%
  scrape() %&gt;%
  html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
  html_text() %&gt;%
  str_remove(" episodes") %&gt;%
  as.numeric()

st_episode
## numeric(0)
```

---
# How many episodes in Stranger Things? And Mindhunter? 


```r
st_episode &lt;- bow("https://www.imdb.com/title/tt4574334/") %&gt;%
  scrape() %&gt;%
  html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
  html_text() %&gt;%
  str_remove(" episodes") %&gt;%
  as.numeric()
st_episode
## numeric(0)

mh_episodes &lt;- bow("https://www.imdb.com/title/tt4574334/") %&gt;%
  scrape() %&gt;%
  html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
  html_text() %&gt;%
  str_remove(" episodes") %&gt;%
  as.numeric()
mh_episodes
## numeric(0)
```



---
# When should you write a function?
&lt;br&gt;&lt;br&gt;
.content-box-neutral[
- Whenever you’ve copied and pasted a block of code more than twice.

- When you want to clearly express some set of actions

- When you want to do modular coding.

- There are many other reasons as well!
]
---
# Do you see any problems in the code below?


```r
st_episode &lt;- st %&gt;%
  html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
  html_text() %&gt;%
  str_replace(" episodes", "") %&gt;%
  as.numeric()

got_episode &lt;- got %&gt;%
  html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
  html_text() %&gt;%
  str_replace(" episodes", "") %&gt;%
  as.numeric()

twd_episode &lt;- got %&gt;%
  html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
  html_text() %&gt;%
  str_replace(" episodes", "") %&gt;%
  as.numeric()
```

---
# Inputs

&lt;br&gt;&lt;br&gt;
How many inputs does the following code have?

&lt;br&gt;


```r
st_episode &lt;- st %&gt;%
  html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
  html_text() %&gt;%
  str_replace(" episodes", "") %&gt;%
  as.numeric()
```


---
# Let's turn this code into a function
&lt;br&gt;

- Pick a short but informative **name**, preferably a verb.
- List inputs, or **arguments**, to the function inside `function`. If we had more the call would look like `function(x, y, z)`.
- Place the **code** you have developed in body of the function, a `{` block that immediately follows `function(...)`.


```r
scrape_episode &lt;- function(x){
  x %&gt;%
    html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
    html_text() %&gt;%
    str_replace(" episodes", "") %&gt;%
    as.numeric()
}
```

---
# Turn your code into a function
&lt;br&gt;&lt;br&gt;

```r
scrape_episode &lt;- function(x){
  x %&gt;%
    html_nodes(".np_right_arrow .bp_sub_heading") %&gt;%
    html_text() %&gt;%
    str_replace(" episodes", "") %&gt;%
    as.numeric()
}
```


```r
scrape_episode(st)
## numeric(0)
```

---
# Check your function
&lt;br&gt;&lt;br&gt;
- Number of episodes in The Walking Dead


```r
scrape_episode(twd)
## numeric(0)
```


- Number of episodes in Game of Thrones


```r
scrape_episode(got)
## numeric(0)
```

---
# Naming functions (it's hard)

&gt; "There are only two hard things in Computer Science: cache invalidation and naming things." - Phil Karlton

- Names should be short but clearly evoke what the function does

- Names should be verbs, not nouns

- Multi-word names should be separated by underscores (`snake_case` as opposed to `camelCase`)

- A family of functions should be named similarly (`scrape_title`, `scrape_episode`, `scrape_genre`, etc.)

- Avoid overwriting existing (especially widely used) functions (e.g., `ggplot`)

---
# Scraping show info


```r
scrape_show_info &lt;- function(x){

  title &lt;- x %&gt;%
    html_node("#title-overview-widget h1") %&gt;%
    html_text() %&gt;%
    str_trim()

  runtime &lt;- x %&gt;%
    html_node("time") %&gt;%
    html_text() %&gt;%
    str_replace("\\n", "") %&gt;%
    str_trim()
  
  genres &lt;- x %&gt;%
    html_nodes(".txt-block~ .canwrap a") %&gt;%
    html_text() %&gt;%
    str_trim() %&gt;%
    paste(collapse = ", ")
  
  tibble(title = title, runtime = runtime, genres = genres)
}
```

---
# Scraping show info


```r
scrape_show_info(st)
## # A tibble: 1 × 3
##   title runtime genres
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
## 1 &lt;NA&gt;  &lt;NA&gt;    ""
scrape_show_info(twd)
## # A tibble: 1 × 3
##   title runtime genres
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
## 1 &lt;NA&gt;  &lt;NA&gt;    ""
```

---
# How to update this function to use page URL as argument?


```r
scrape_show_info &lt;- function(x){

  title &lt;- x %&gt;% html_node("#title-overview-widget h1") %&gt;%
    html_text() %&gt;%
    str_trim()

  runtime &lt;- x %&gt;% html_node("time") %&gt;%
    html_text() %&gt;%
    str_replace("\\n", "") %&gt;%
    str_trim()
  
  genres &lt;- x %&gt;% html_nodes(".txt-block~ .canwrap a") %&gt;%
    html_text() %&gt;%
    str_trim() %&gt;%
    paste(collapse = ", ")
  
  tibble(title = title, runtime = runtime, genres = genres)
}
```

---
# How to update this function to use page URL as argument?


```r
scrape_show_info &lt;- function(x){
  
y &lt;- bow(x) %&gt;% scrape()

  title &lt;- y %&gt;% html_node("#title-overview-widget h1") %&gt;%
    html_text() %&gt;%
    str_trim()

  runtime &lt;- y %&gt;% html_node("time") %&gt;%
    html_text() %&gt;%
    str_replace("\\n", "") %&gt;%
    str_trim()

  genres &lt;- y %&gt;% html_nodes(".txt-block~ .canwrap a") %&gt;%
    html_text() %&gt;%
    str_trim() %&gt;%
    paste(collapse = ", ")
  
  tibble(title = title, runtime = runtime, genres = genres)
}
```

---
# Let's check

&lt;br&gt;&lt;br&gt;

```r
st_url &lt;- "http://www.imdb.com/title/tt4574334/"
twd_url &lt;- "http://www.imdb.com/title/tt1520211/"
```


```r
scrape_show_info(st_url)
## # A tibble: 1 × 3
##   title runtime genres
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
## 1 &lt;NA&gt;  &lt;NA&gt;    ""
scrape_show_info(twd_url)
## # A tibble: 1 × 3
##   title runtime genres
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
## 1 &lt;NA&gt;  &lt;NA&gt;    ""
```

---
class: transition

# Automation

---
# Automation

&lt;br&gt;&lt;br&gt;
- You now have a function that will scrape the relevant info on shows given its URL. 
- Where can we get a list of URLs of top 100 most popular TV shows on IMDB? 


---
# Automation


```r
urls &lt;- bow("http://www.imdb.com/chart/tvmeter") %&gt;%
  scrape() %&gt;%
  html_nodes(".titleColumn a") %&gt;%
  html_attr("href") %&gt;%
  paste("http://www.imdb.com", ., sep = "") %&gt;%
  head()
```


```
## [1] "http://www.imdb.com/title/tt8760932/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=332cb927-0342-42b3-815c-f9124e84021d&amp;pf_rd_r=4AKWWWC45FFY3CMWX03F&amp;pf_rd_s=center-1&amp;pf_rd_t=15506&amp;pf_rd_i=tvmeter&amp;ref_=chttvm_tt_1" 
## [2] "http://www.imdb.com/title/tt10168312/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=332cb927-0342-42b3-815c-f9124e84021d&amp;pf_rd_r=4AKWWWC45FFY3CMWX03F&amp;pf_rd_s=center-1&amp;pf_rd_t=15506&amp;pf_rd_i=tvmeter&amp;ref_=chttvm_tt_2"
## [3] "http://www.imdb.com/title/tt1520211/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=332cb927-0342-42b3-815c-f9124e84021d&amp;pf_rd_r=4AKWWWC45FFY3CMWX03F&amp;pf_rd_s=center-1&amp;pf_rd_t=15506&amp;pf_rd_i=tvmeter&amp;ref_=chttvm_tt_3" 
## [4] "http://www.imdb.com/title/tt13406094/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=332cb927-0342-42b3-815c-f9124e84021d&amp;pf_rd_r=4AKWWWC45FFY3CMWX03F&amp;pf_rd_s=center-1&amp;pf_rd_t=15506&amp;pf_rd_i=tvmeter&amp;ref_=chttvm_tt_4"
## [5] "http://www.imdb.com/title/tt1844624/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=332cb927-0342-42b3-815c-f9124e84021d&amp;pf_rd_r=4AKWWWC45FFY3CMWX03F&amp;pf_rd_s=center-1&amp;pf_rd_t=15506&amp;pf_rd_i=tvmeter&amp;ref_=chttvm_tt_5" 
## [6] "http://www.imdb.com/title/tt10986410/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=332cb927-0342-42b3-815c-f9124e84021d&amp;pf_rd_r=4AKWWWC45FFY3CMWX03F&amp;pf_rd_s=center-1&amp;pf_rd_t=15506&amp;pf_rd_i=tvmeter&amp;ref_=chttvm_tt_6"
```

---
# Automation: Go to each page, scrape show info 

- Programatically direct R to each page on the `urls` list and run  `scrape_show_info`


```r
scrape_show_info(urls[1])
## # A tibble: 1 × 3
##   title runtime genres
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
## 1 &lt;NA&gt;  &lt;NA&gt;    ""
scrape_show_info(urls[2])
## # A tibble: 1 × 3
##   title runtime genres
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
## 1 &lt;NA&gt;  &lt;NA&gt;    ""
scrape_show_info(urls[3])
## # A tibble: 1 × 3
##   title runtime genres
##   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
## 1 &lt;NA&gt;  &lt;NA&gt;    ""
```

---
# Go to each page, scrape show info 

In other words, we want to **map** the `scrape_show_info` function to each element of `show_urls`:


```r
top_100_shows &lt;- map_df(urls, scrape_show_info)
```

- This will hit the `urls` one after another, and grab the info.


---
class: transition

# File Paths and project organization
Please read on your own time

---
# File Paths and project organization
&lt;br&gt;&lt;br&gt;

.content-box-soft[
- It's important when you start working on your own machine that you understand _file storage hygiene_. 
- It helps prevent unexpected problems and makes you more productive 
- You'll spend less time fighting against strange file paths. 
- Not sure what a file path is? We will explain that as well!
]


---
# What  is a file path?
  &lt;br&gt;&lt;br&gt;
- This all might be a bit confusing if you don't know what a file path is.
- A file path is: "the machine-readable directions to where files on your computer live." 
- So, this file path:

```
/Users/starwars/rmd4sci-materials/demo-gapminder.Rmd
```

**.green[Describes the location of the file]** "demo-gapminder.Rmd". 


---
# What is a file path ?
&lt;br&gt;&lt;br&gt;
We could visualize this path:

```
/Users/starwars/rmd4sci-materials/demo-gapminder.Rmd
```

as:

```
users
  └── starwars
        └──  rmd4sci-materials
               └── demo-gapminder.Rmd
```

---
# What is a file path?
&lt;br&gt;&lt;br&gt;
- To read in the `gapminder.csv` file, you might need to write code like this:


```r
gapminder &lt;- read_csv("/Users/starwars/Desktop/rmd4sci-materials/data/gapminder.csv")

```
&lt;br&gt;&lt;br&gt;
**This is a problem, because this is not portable code!**

---
# A Mantra: Start a new project \- start an RStudio project
&lt;br&gt;&lt;br&gt;
- This section is heavily influenced by
[Jenny Bryan's great blog post on project based workflows.](https://www.tidyverse.org/articles/2017/12/workflow-vs-script/)
- Sometimes this is the first line of an R Script or R markdown file.

```r
setwd("c:/really/long/file/path/to/this/directory)
```
- What do you think the `setwd` code does?

---
# What does `setwd()` do?
&lt;br&gt;&lt;br&gt;
- .green["set my working directory to this specific working directory".]

- It means that you can read in data and other things like this:

```r
data &lt;- read_csv("data/mydata.csv")
```

- Instead of

```r
data &lt;- read_csv("c:/really/long/file/path/to/this/directory/data/mydata.csv")
```

---
# Using `setwd()`
&lt;br&gt;

.content-box-soft[
- This has the effect of **making the file paths work in your file**
- This is a problem because, among other things, using `setwd()`:
  -  Has 0% chance of working on someone else's machine (**this includes you in &gt;6 months**)
  - Your file is not self-contained and portable. (Think: _"What if this folder moved to /Downloads, or onto another machine?"_)
- To get this to work, you need to hand edit the file path to your machine. 
- This is painful. And when you do this all the time, it gets old, fast.
]
If you have an RStudio project file inside the `rmd4sci-materials` folder, you can instead write the following:

```r
gapminder &lt;- read_csv("data/gapminder.csv")
```



---
# What is the alternative to setwd()?
&lt;br&gt;&lt;br&gt;

.content-box-soft[
- .green[**This file path situation is a real pain!**] 
- The solution to it:
]

.content-box-neutral[
**I highly recommend when you start on a new idea, new research project, paper. 
Anything that is new. It should start its life as an **rstudio project**.** 
]


---
# Rstudio projects
&lt;br&gt;&lt;br&gt;
An rstudio project helps keep related work together in the same place. Amongst other things, they:
&lt;br&gt;
.content-box-soft[
* Keep all your files together
* Set the working directory to the project directory
* Starts a new session of R
* Restore previously edited files into the editor tabs
* Restore other rstudio settings
* Allow for multiple R projects open at the same time.
]

---
# Rstudio projects
&lt;br&gt;&lt;br&gt;
This helps keep you sane, because:
&lt;br&gt;
.content-box-soft[
* Your projects are each independent. 
* You can work on different projects at the same time. 
* Objects and functions you create and run from project idea won't impact one another.  
* You can refer to your data and other projects in a consistent way.
]
&lt;br&gt;
And finally, the big one

.green[**RStudio projects help resolve file path problems**, 
because they automatically set the working directory to the location of the rstudio project.]

---
# The "here" package
&lt;br&gt;&lt;br&gt;

.content-box-soft[
- RStudio projects help resolve file path problems
- In some cases you might have many folders in your r project. 
To help navigate them appropriately, you can use the `here` package to provide the full path directory, in a compact way.
]

```r
here::here("data")
```

returns

```
[1] "/Users/starwars/Desktop/rmd4sci-materials/data"
```

---
# The `here` package


```r
here::here("data", "gapminder.csv")
```

returns

```
[1] "/Users/starwars/Desktop/rmd4sci-materials/data/gapminder.csv"
```

You can read the above `here` code as:

&gt; In the folder `data`, there is a file called `gapminder.csv`, can you please give me the full path to that file? 

---
# The `here` package
&lt;br&gt;&lt;br&gt;

This is really handy for a few reasons:

.content-box-neutral[
1. It makes things _completely_ portable
2. Rmarkdown documents have a special way of looking for files, this helps eliminate file path pain.
3. If you decide to not use RStudio projects, you have code that will work on _any machine_
]

---
class: transition
# Remember
&lt;br&gt;&lt;br&gt;
&gt; If the first line of your R script is 

```
setwd("C:\Users\jenny\path\that\only\I\have")
```
&gt; I will come into your office and SET YOUR COMPUTER ON FIRE 🔥.

 Jenny Bryan

---
# Aside: How to create an RStudio project
&lt;br&gt;&lt;br&gt;
- Go to [section 5.12 of rmarkdown for scientists](https://rmd4sci.njtierney.com/workflow.html#aside-creating-an-rstudio-project)


---
class: transition 
# Example of file structure organization


---
# File structures for class

Simple structure

```
/Users/starwars/etc1010/
```

```
users
  └── starwars
      └──  etc1010
            └── etc5510.Rproj
            └── lecture_1.html
            └── lecture_1.pdf
            └── ida-exercise-1.Rmd
            └── data
                └── data.csv
```

---
class: transition

# Remember

## The more organize you are with your files,
## the easier your life will be!

It's just important to have a system

---




background-image: url(images/daniel-olah-pCcGpVsOHoo-unsplash.jpg)
background-size: cover
class: hide-slide-number split-70
count: false

.column.shade_black[.content[

&lt;br&gt;&lt;br&gt;



.bottom_abs.width100[

Lecturer: Patricia Menéndez

Department of Econometrics and Business Statistics&lt;br&gt;





]

&lt;br /&gt;
This work is licensed under a &lt;a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"&gt;Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License&lt;/a&gt;.

&lt;a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"&gt;&lt;img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /&gt;&lt;/a&gt;


]]



&lt;div class="column transition monash-m-new delay-1s" style="clip-path:url(#swipe__clip-path);"&gt;
&lt;div class="background-image" style="background-image:url('images/large.png');background-position: center;background-size:cover;margin-left:3px;"&gt;
&lt;svg class="clip-svg absolute"&gt;
&lt;defs&gt;
&lt;clipPath id="swipe__clip-path" clipPathUnits="objectBoundingBox"&gt;
&lt;polygon points="0.5745 0, 0.5 0.33, 0.42 0, 0 0, 0 1, 0.27 1, 0.27 0.59, 0.37 1, 0.634 1, 0.736 0.59, 0.736 1, 1 1, 1 0, 0.5745 0" /&gt;
&lt;/clipPath&gt;
&lt;/defs&gt;	
&lt;/svg&gt;
&lt;/div&gt;
&lt;/div&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLanguage": "r",
"highlightLines": true,
"highlightSpans": false,
"countIncrementalSlides": false,
"slideNumberFormat": "%current%/%total%",
"navigation": {
"scroll": false,
"touch": true,
"click": false
},
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'assets/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
